{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="calendar-container">
  <h1>Rezervační kalendář</h1>
  <div id="calendar" class="calendar-grid">
    <!-- Hlavička s názvy dnů -->
    <div class="calendar-header">Pondělí</div>
    <div class="calendar-header">Úterý</div>
    <div class="calendar-header">Středa</div>
    <div class="calendar-header">Čtvrtek</div>
    <div class="calendar-header">Pátek</div>
    <div class="calendar-header">Sobota</div>
    <div class="calendar-header">Neděle</div>

    {% for week in calendar_weeks %}
      {% for day in week %}
        <div class="calendar-day 
          {% if day.status == 'closed' %}
            status-closed
          {% elif day.reservations|length == 0 %}
            status-free
          {% elif day.reservations|length < max_reservations %}
            status-reserved
          {% else %}
            status-full
          {% endif %}"
          data-date="{{ day.date }}">
          <div class="day-number">{{ day.day }}</div>
          {% if day.reservations|length > 0 %}
            <div class="reservation-info">
              {{ day.reservations|length }} rezervací
            </div>
          {% endif %}
        </div>
      {% endfor %}
    {% endfor %}
  </div>
</div>
{% endblock content %}

{% block extra_script %}
<script src="{% static 'js/calendar.js' %}"></script>
{% endblock extra_script %}